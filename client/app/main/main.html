<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container-fluid" ng-controller="ProgramCtrl as programCtrl">
  <div class="row">
    <div class="col-lg-5">

      <form>

        <p class="input-group">
          <input type="text" class="form-control"
                 placeholder="Start time, use datepicker to the right..."
                 datepicker-popup="{{format}}"
                 ng-model="newProgram.start_time"
                 is-open="opened"
                 min-date="minDate"
                 max-date="'2015-06-22'"
                 datepicker-options="dateOptions"
                 close-text="Close" />
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
        </p>


        <div class="form-group">
          <input type="text" class="form-control" id="name" placeholder="Name" ng-model="newProgram.name">
        </div>

        <div class="form-group">
          <input type="text" class="form-control" id="b_line" placeholder="B Line" ng-model="newProgram.b_line">
        </div>

        <div class="form-group">
          <input type="text" class="form-control" id="url" placeholder="URL" ng-model="newProgram.url">
        </div>

        <div class="form-group">
          <textarea type="text" class="form-control" id="synopsis" placeholder="Synopsis" ng-model="newProgram.synopsis"/>
        </div>

        <div class="form-group">
          <textarea class="form-control" id="lead_text" placeholder="Lead text" ng-model="newProgram.lead_text"/>
        </div>




        <button class="btn btn-success" ng-click="programCtrl.createProgram()">Skapa</button>
      </form>

    </div>

    <div class="col-lg-7">

      Sök på namn: <input type="text" ng-model="search.name">


      <table class="table" style="table-layout: fixed; word-wrap: break-word;">
          <thead>
          <tr>
            <th>Name</th>
            <th>Date</th>
            <th>Start time</th>
            <th>Lead text</th>
            <th>B Line</th>
            <th>Synopsis</th>
            <th>URL</th>
            <th></th>
          </tr>
          </thead>

          <tbody>
            <tr ng-repeat="program in programCtrl.allPrograms | filter:search">
              <td>{{program.name}}</td>
              <td>{{program.date}}</td>
              <td>{{program.start_time}}</td>
              <td>{{program.lead_text}}</td>
              <td>{{program.b_line}}</td>
              <td>{{program.synopsis}}</td>
              <td>{{program.url}}</td>
              <td>
                <button class="btn btn-info" ng-click="saveToXML(program)">Skapa xml-fil</button>
                <p></p>
                <button class="btn btn-danger" ng-click="removeRow(program.id)">Ta bort</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
</div>


<footer class="footer">
  <div class="container">
    <p>AndreMore 2015</p>
  </div>
</footer>
